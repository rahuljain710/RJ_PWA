// Always call hooks at the top level
const { hits: clientHits, showMore: clientShowMore, isLastPage: clientIsLastPage, result: clientResult } = useInfiniteHits();
const { status: clientStatus } = useInstantSearch(props);

// Then conditionally assign values
let hits, showMore, isLastPage, result, status, results;

if (!isServer) {
  // Client-side: use hook values
  hits = clientHits;
  showMore = clientShowMore;
  isLastPage = clientIsLastPage;
  result = clientResult;
  status = clientStatus;
  results = {};
} else {
  // Server-side: use provided data
  hits = algoliaHits;
  results = algoliaResults;
  showMore = () => {};
  isLastPage = true;
  status = { status: 'idle' };
  result = results || {};
}
